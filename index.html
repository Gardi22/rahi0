<!DOCTYPE html>
<html lang="en">
<head>
  <script defer src="/_vercel/insights/script.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rahi's Study Hub</title>
  <style>
    :root {
      --bg: #f5f7fa;
      --card-bg: #ffffff;
      --text: #333;
      --primary: #6e48aa;
      --wrong: #ff6b6b;
    }
    /* Subject Colors */
    .subject-science { --primary: #3a86ff; }
    .subject-math { --primary: #ff006e; }
    .subject-social-studies { --primary: #ff9e00; }
    .subject-computing { --primary: #00b4d8; }
    .subject-english { --primary: #8338ec; }
    .dark-mode {
      --bg: #1a1a2e;
      --card-bg: #16213e;
      --text: #f1f1f1;
      --wrong: #ff8e8e;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: all 0.3s;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    .dashboard, .flashcard-mode {
      display: none;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
    }
    .active-mode {
      display: block;
    }
    .watermark {
      position: fixed;
      font-size: 12px;
      opacity: 0.5;
      z-index: 100;
      color: var(--primary);
    }
    .top-left { top: 10px; left: 10px; }
    .top-right { top: 10px; right: 10px; }
    .bottom-left { bottom: 10px; left: 10px; }
    .bottom-right { bottom: 10px; right: 10px; }
    h1 {
      text-align: center;
      color: var(--primary);
      margin-bottom: 30px;
    }
    .subject-card {
      background: var(--card-bg);
      border-radius: 15px;
      padding: 20px;
      margin: 15px 0;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: transform 0.3s;
      border-left: 5px solid var(--primary);
    }
    .subject-card:hover {
      transform: translateY(-5px);
    }
    .subject-card h2 {
      margin-top: 0;
      color: var(--primary);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .subject-card h2::after {
      content: "›";
      font-size: 1.5rem;
      transition: transform 0.3s;
    }
    .subject-card.expanded h2::after {
      transform: rotate(90deg);
    }
    .topic-list {
      display: none;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
      padding-left: 15px;
    }
    .expanded .topic-list {
      display: flex;
    }
    .topic {
      background: var(--primary);
      color: white;
      padding: 10px 15px;
      border-radius: 8px;
      font-size: 0.9rem;
      opacity: 0.9;
      cursor: pointer;
      transition: all 0.2s;
    }
    .topic:hover {
      opacity: 1;
      transform: translateX(5px);
    }
    .direct-subject {
      margin-top: 15px;
    }
    .back-button {
      background: #666;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .flashcard-container {
      perspective: 1000px;
      width: 100%;
      max-width: 600px;
      margin: 20px auto;
      position: relative;
    }
    .subject-label {
      text-align: center;
      font-weight: bold;
      color: var(--primary);
      margin-bottom: 5px;
      font-size: 1.2rem;
    }
    .topic-label {
      text-align: center;
      font-size: 1rem;
      opacity: 0.8;
      margin-bottom: 15px;
      color: var(--primary);
    }
    .flashcard {
      width: 100%;
      height: 400px;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.6s;
      cursor: pointer;
      border-radius: 15px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    .flashcard.flipped {
      transform: rotateY(180deg);
    }
    .flashcard-front, .flashcard-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
      background: var(--card-bg);
      border-radius: 15px;
      text-align: center;
      overflow-y: auto;
    }
    .flashcard-back {
      transform: rotateY(180deg);
      background: var(--primary);
      color: white;
    }
    .flashcard-corner {
      position: absolute;
      font-size: 10px;
      opacity: 0.5;
    }
    .fc-tl { top: 5px; left: 5px; }
    .fc-tr { top: 5px; right: 5px; }
    .fc-bl { bottom: 5px; left: 5px; }
    .fc-br { bottom: 5px; right: 5px; }
    .controls {
      display: flex;
      gap: 15px;
      margin-top: 20px;
      justify-content: center;
    }
    button {
      background: var(--primary);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      transition: transform 0.2s;
    }
    button:hover {
      transform: scale(1.05);
    }
    button.wrong {
      background: var(--wrong);
    }
    .progress {
      margin-top: 20px;
      font-weight: bold;
      text-align: center;
    }
    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--primary);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border: none;
      color: white;
      z-index: 100;
    }
    .review-box {
      margin-top: 30px;
      padding: 15px;
      border-radius: 10px;
      background: var(--wrong);
      color: white;
      display: none;
    }
    .review-box h3 {
      margin-top: 0;
    }
    .empty-message {
      text-align: center;
      color: #666;
      font-style: italic;
      margin-top: 50px;
    }
    .flashcard-img {
      max-width: 100%;
      max-height: 180px;
      width: 300px;  /* Added specific width */
      height: 200px; /* Added specific height */
      margin: 10px 0;
      border-radius: 8px;
      border: 1px solid rgba(0,0,0,0.1);
      object-fit: contain; /* Maintains aspect ratio */
    }
    .flashcard-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      width: 100%;
    }
    .img-caption {
      font-size: 0.9rem;
      color: var(--text);
      opacity: 0.8;
    }
    .dark-mode .img-caption {
      color: white;
    }
  </style>
</head>
<body class="subject-science">
  <!-- Your name watermarked -->
  <div class="watermark top-left">Rahi Najeem</div>
  <div class="watermark top-right">Rahi Najeem</div>
  <div class="watermark bottom-left">Rahi Najeem</div>
  <div class="watermark bottom-right">Rahi Najeem</div>

  <button class="theme-toggle" onclick="toggleTheme()">☀️</button>

  <!-- Dashboard -->
  <div class="dashboard active-mode">
    <h1>Rahi's Study Hub</h1>
    
    <div class="subject-card" onclick="toggleSubject(this, 'science')">
      <h2>Science</h2>
      <div class="topic-list">
        <div class="topic" onclick="enterFlashcardMode('science', 'physics')">Physics</div>
        <div class="topic" onclick="enterFlashcardMode('science', 'human-body')">Human Body</div>
        <div class="topic" onclick="enterFlashcardMode('science', 'chemistry')">Chemistry</div>
      </div>
    </div>
    
    <div class="subject-card" onclick="toggleSubject(this, 'math')">
      <h2>Mathematics</h2>
      <div class="topic-list">
        <div class="topic" onclick="enterFlashcardMode('math', 'algebra3')">Algebra 3</div>
        <div class="topic" onclick="enterFlashcardMode('math', 'geometry2')">Geometry 2</div>
      </div>
    </div>
    
    <div class="subject-card direct-subject" onclick="enterFlashcardMode('social-studies', 'social-studies')">
      <h2>Social Studies</h2>
    </div>
    
    <div class="subject-card direct-subject" onclick="enterFlashcardMode('computing', 'computing')">
      <h2>Computing</h2>
    </div>
    
    <div class="subject-card" onclick="toggleSubject(this, 'english')">
      <h2>English</h2>
      <div class="topic-list">
        <div class="topic" onclick="enterFlashcardMode('english', 'vocabulary')">Vocabulary (Anthology)</div>
        <div class="topic" onclick="enterFlashcardMode('english', 'grammar')">Grammar</div>
      </div>
    </div>
  </div>

  <!-- Flashcard Mode -->
  <div class="flashcard-mode">
    <button class="back-button" onclick="backToDashboard()">‹ Back to Subjects</button>
    <div class="subject-label" id="subjectLabel">SCIENCE</div>
    <div class="topic-label" id="topicLabel">PHYSICS</div>
    
    <div class="flashcard-container">
      <div class="flashcard" onclick="flipCard()">
        <div class="flashcard-front">
          <div class="flashcard-corner fc-tl">Rahi Najeem</div>
          <div class="flashcard-corner fc-tr">Rahi Najeem</div>
          <div class="flashcard-corner fc-bl">Rahi Najeem</div>
          <div class="flashcard-corner fc-br">Rahi Najeem</div>
          <div class="flashcard-content" id="flashcardQuestion">
            <p>Click "Next" to begin</p>
          </div>
        </div>
        <div class="flashcard-back">
          <div class="flashcard-content" id="flashcardAnswer">
            <p>Your flashcards will appear here</p>
          </div>
        </div>
      </div>
    </div>
    
    <div id="emptyMessage" class="empty-message">
      No flashcards added yet. Add your questions to the database.
    </div>
    
    <div class="controls">
      <button onclick="prevCard()">← Previous</button>
      <button class="wrong" onclick="markWrong()">Didn't Know</button>
      <button onclick="nextCard()">Next →</button>
    </div>
    
    <div class="progress" id="progressText">Card 0 of 0</div>
    
    <div class="review-box" id="reviewBox">
      <h3>Review These Cards:</h3>
      <ul id="wrongCardsList"></ul>
    </div>
  </div>

  <script src="flashcards.js"></script>
  <script>
    // Current state
    let currentMode = 'dashboard';
    let currentSubject = '';
    let currentTopic = '';
    let currentCardIndex = 0;
    let isDark = false;
    let wrongCards = [];
    let filteredCards = [];

    // DOM elements
    const dashboardEl = document.querySelector('.dashboard');
    const flashcardModeEl = document.querySelector('.flashcard-mode');
    const subjectLabelEl = document.getElementById('subjectLabel');
    const topicLabelEl = document.getElementById('topicLabel');
    const questionEl = document.getElementById('flashcardQuestion');
    const answerEl = document.getElementById('flashcardAnswer');
    const progressEl = document.getElementById('progressText');
    const reviewBoxEl = document.getElementById('reviewBox');
    const wrongCardsListEl = document.getElementById('wrongCardsList');
    const emptyMessageEl = document.getElementById('emptyMessage');
    const controlsEl = document.querySelector('.controls');
    const flashcardContainerEl = document.querySelector('.flashcard-container');

    // Navigation functions
    function toggleSubject(element, subject) {
      // Close other expanded subjects
      document.querySelectorAll('.subject-card').forEach(card => {
        if (card !== element && !card.classList.contains('direct-subject')) {
          card.classList.remove('expanded');
        }
      });
      
      // Toggle current subject
      element.classList.toggle('expanded');
      
      // Update color scheme
      document.body.className = `subject-${subject}`;
      event.stopPropagation();
    }

    function enterFlashcardMode(subject, topic) {
      currentSubject = subject;
      currentTopic = topic;
      currentCardIndex = 0;
      filteredCards = flashcardsDatabase[subject][topic] || [];
      updateLabels();
      updateCardView();
      
      // Update UI colors
      document.body.className = `subject-${subject}`;
      
      dashboardEl.classList.remove('active-mode');
      flashcardModeEl.classList.add('active-mode');
      currentMode = 'flashcard';
      
      // Close all expanded subjects
      document.querySelectorAll('.subject-card').forEach(card => {
        card.classList.remove('expanded');
      });
    }

    function backToDashboard() {
      dashboardEl.classList.add('active-mode');
      flashcardModeEl.classList.remove('active-mode');
      currentMode = 'dashboard';
    }

    function updateLabels() {
      // Format labels nicely
      const subjectNames = {
        'science': 'SCIENCE',
        'math': 'MATHEMATICS',
        'social-studies': 'SOCIAL STUDIES',
        'computing': 'COMPUTING',
        'english': 'ENGLISH'
      };
      
      const topicNames = {
        'physics': 'PHYSICS',
        'human-body': 'HUMAN BODY',
        'chemistry': 'CHEMISTRY',
        'algebra3': 'ALGEBRA 3',
        'geometry2': 'GEOMETRY 2',
        'social-studies': 'SOCIAL STUDIES',
        'computing': 'COMPUTING',
        'vocabulary': 'VOCABULARY (ANTHOLOGY)',
        'grammar': 'GRAMMAR'
      };
      
      subjectLabelEl.textContent = subjectNames[currentSubject] || currentSubject.toUpperCase();
      topicLabelEl.textContent = topicNames[currentTopic] || currentTopic.toUpperCase();
    }

    function updateCardView() {
      if (filteredCards.length === 0) {
        emptyMessageEl.style.display = 'block';
        controlsEl.style.display = 'none';
        flashcardContainerEl.style.display = 'none';
        progressEl.textContent = "No cards available";
        return;
      }
      
      emptyMessageEl.style.display = 'none';
      controlsEl.style.display = 'flex';
      flashcardContainerEl.style.display = 'block';
      
      const card = filteredCards[currentCardIndex];
      
      // Update question side
      questionEl.innerHTML = '';
      const questionText = document.createElement('p');
      questionText.textContent = card.question;
      questionEl.appendChild(questionText);
      
      if (card.questionImg) {
        const img = document.createElement('img');
        img.src = card.questionImg;
        img.className = 'flashcard-img';
        img.alt = 'Question image';
        img.style.width = '300px';   // Added specific width
        img.style.height = '200px';  // Added specific height
        questionEl.appendChild(img);
      }
      
      // Update answer side
      answerEl.innerHTML = '';
      const answerText = document.createElement('p');
      answerText.textContent = card.answer;
      answerEl.appendChild(answerText);
      
      if (card.answerImg) {
        const img = document.createElement('img');
        img.src = card.answerImg;
        img.className = 'flashcard-img';
        img.alt = 'Answer image';
        img.style.width = '300px';   // Added specific width
        img.style.height = '200px';  // Added specific height
        answerEl.appendChild(img);
      }
      
      progressEl.textContent = `Card ${currentCardIndex + 1} of ${filteredCards.length}`;
      
      // Reset flip state
      document.querySelector('.flashcard').classList.remove('flipped');
    }

    function flipCard() {
      if (filteredCards.length > 0) {
        document.querySelector('.flashcard').classList.toggle('flipped');
      }
    }

    function nextCard() {
      if (filteredCards.length === 0) return;
      
      if (currentCardIndex < filteredCards.length - 1) {
        currentCardIndex++;
      } else {
        currentCardIndex = 0;
      }
      updateCardView();
    }

    function prevCard() {
      if (filteredCards.length === 0) return;
      
      if (currentCardIndex > 0) {
        currentCardIndex--;
      } else {
        currentCardIndex = filteredCards.length - 1;
      }
      updateCardView();
    }

    function markWrong() {
      if (filteredCards.length === 0) return;
      
      wrongCards.push(filteredCards[currentCardIndex]);
      updateReviewBox();
      nextCard();
    }

    function updateReviewBox() {
      if (wrongCards.length > 0) {
        reviewBoxEl.style.display = 'block';
        wrongCardsListEl.innerHTML = wrongCards.map(card => {
          let content = `<li>${card.question}`;
          if (card.questionImg) {
            content += ` <small>[Image]</small>`;
          }
          content += ` → <strong>${card.answer}</strong>`;
          if (card.answerImg) {
            content += ` <small>[Image]</small>`;
          }
          return content + '</li>';
        }).join('');
      } else {
        reviewBoxEl.style.display = 'none';
      }
    }

    function toggleTheme() {
      isDark = !isDark;
      document.body.classList.toggle('dark-mode');
      document.querySelector('.theme-toggle').textContent = isDark ? '🌙' : '☀️';
    }

    // Keyboard controls
    document.addEventListener('keydown', (e) => {
      if (currentMode !== 'flashcard') return;
      
      if (e.key === 'ArrowRight') nextCard();
      if (e.key === 'ArrowLeft') prevCard();
      if (e.key === ' ') flipCard();
      if (e.key === 'w') markWrong();
    });

    // Initialize
    updateLabels();
  </script>
</body>
</html>
``` 